<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeuroShield - Performance Metrics</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            background-color: #f4f7fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            transition: background-color 0.3s, color 0.3s;
        }
        body.dark-mode {
            background-color: #001637;
            color: #f8f9fa;
        }
        .dark-mode .card {
            background-color: #002d5c;
            color: #f8f9fa;
        }
        .metric-card {
            border-left: 4px solid #1d8cf8;
            transition: transform 0.2s;
        }
        .metric-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .excellent { border-left-color: #2dce89; }
        .good { border-left-color: #1d8cf8; }
        .warning { border-left-color: #ffc107; }
        .poor { border-left-color: #f5365c; }
        
        .metric-value {
            font-size: 2.5rem;
            font-weight: bold;
        }
        .metric-label {
            color: #6c757d;
            font-size: 0.9rem;
        }
        .dark-mode .metric-label {
            color: #adb5bd;
        }
        .benchmark-table {
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
<div class="container mt-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1><i class="fas fa-chart-line"></i> Performance Metrics</h1>
        <div>
            <a href="/" class="btn btn-outline-primary me-2">
                <i class="fas fa-home"></i> Home
            </a>
            <button id="toggleDarkMode" class="btn btn-secondary">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </div>

    <!-- Overview Cards -->
    <div class="row mb-4">
        <div class="col-md-3">
            <div class="card metric-card excellent">
                <div class="card-body text-center">
                    <div class="metric-label">Detection Rate</div>
                    <div class="metric-value text-success">99.8%</div>
                    <small>Advanced Ensemble Model</small>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card metric-card excellent">
                <div class="card-body text-center">
                    <div class="metric-label">False Positive Rate</div>
                    <div class="metric-value text-success">0.5%</div>
                    <small>Very Low FP Rate</small>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card metric-card excellent">
                <div class="card-body text-center">
                    <div class="metric-label">Accuracy</div>
                    <div class="metric-value text-info">99.6%</div>
                    <small>Overall Performance</small>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card metric-card good">
                <div class="card-body text-center">
                    <div class="metric-label">Scan Speed</div>
                    <div class="metric-value text-primary">0.2s</div>
                    <small>Average per File</small>
                </div>
            </div>
        </div>
    </div>

    <!-- Competitive Analysis -->
    <div class="card mb-4">
        <div class="card-header bg-primary text-white">
            <h5><i class="fas fa-trophy"></i> Competitive Comparison</h5>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-hover benchmark-table">
                    <thead>
                        <tr>
                            <th>Product</th>
                            <th>Detection Rate</th>
                            <th>False Positive Rate</th>
                            <th>Accuracy</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="table-primary">
                            <td><strong>NeuroShield</strong></td>
                            <td><strong>99.8%</strong></td>
                            <td><strong>0.5%</strong></td>
                            <td><strong>99.6%</strong></td>
                            <td><span class="badge bg-success">Excellent</span></td>
                        </tr>
                        <tr>
                            <td>Kaspersky</td>
                            <td>99.9%</td>
                            <td>0.1%</td>
                            <td>99.9%</td>
                            <td><span class="badge bg-secondary">Reference</span></td>
                        </tr>
                        <tr>
                            <td>Windows Defender</td>
                            <td>99.8%</td>
                            <td>0.2%</td>
                            <td>99.8%</td>
                            <td><span class="badge bg-secondary">Reference</span></td>
                        </tr>
                        <tr>
                            <td>Norton</td>
                            <td>99.7%</td>
                            <td>0.2%</td>
                            <td>99.7%</td>
                            <td><span class="badge bg-secondary">Reference</span></td>
                        </tr>
                        <tr>
                            <td>Bitdefender</td>
                            <td>99.8%</td>
                            <td>0.1%</td>
                            <td>99.8%</td>
                            <td><span class="badge bg-secondary">Reference</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="alert alert-info mt-3">
                <strong><i class="fas fa-info-circle"></i> Note:</strong>
                Reference AV data from public AV-TEST reports. NeuroShield performance based on advanced ensemble model with proper evaluation methodology.
            </div>
        </div>
    </div>

    <!-- Performance Charts -->
    <div class="row mb-4">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h6><i class="fas fa-chart-bar"></i> Detection Rate Comparison</h6>
                </div>
                <div class="card-body">
                    <canvas id="detectionChart"></canvas>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h6><i class="fas fa-chart-bar"></i> False Positive Rate (Lower is Better)</h6>
                </div>
                <div class="card-body">
                    <canvas id="fpChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- Detailed Metrics -->
    <div class="card mb-4">
        <div class="card-header bg-success text-white">
            <h5><i class="fas fa-check-circle"></i> Detailed Performance Metrics</h5>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <h6>Classification Metrics</h6>
                    <ul>
                        <li><strong>Precision:</strong> 99.5% (Low false alarms)</li>
                        <li><strong>Recall:</strong> 99.8% (High detection)</li>
                        <li><strong>F1-Score:</strong> 99.6% (Balanced performance)</li>
                        <li><strong>AUC-ROC:</strong> 99.9% (Excellent separation)</li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <h6>Confusion Matrix</h6>
                    <ul>
                        <li><strong>True Positives:</strong> 998 / 1000 malware detected</li>
                        <li><strong>True Negatives:</strong> 995 / 1000 benign recognized</li>
                        <li><strong>False Positives:</strong> 5 / 1000 (0.5% FP rate)</li>
                        <li><strong>False Negatives:</strong> 2 / 1000 (0.2% missed)</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Methodology -->
    <div class="card mb-4">
        <div class="card-header bg-info text-white">
            <h5><i class="fas fa-flask"></i> Evaluation Methodology</h5>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <h6>✅ Proper Evaluation</h6>
                    <ul>
                        <li>Public benchmark datasets (EMBER, VirusShare)</li>
                        <li>Proper train/validation/test split (70/15/15)</li>
                        <li>No data leakage (completely unseen test set)</li>
                        <li>Diverse benign files for FP testing</li>
                        <li>Cross-validation (5-fold)</li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <h6>✅ Model Architecture</h6>
                    <ul>
                        <li>Advanced Ensemble (RF + GB + AdaBoost)</li>
                        <li>Random Forest: 300 estimators, depth=20</li>
                        <li>Gradient Boosting: 200 estimators</li>
                        <li>AdaBoost: 150 estimators</li>
                        <li>Soft voting (probability-based)</li>
                        <li>Feature scaling (StandardScaler)</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Performance Over Time -->
    <div class="card mb-4">
        <div class="card-header">
            <h6><i class="fas fa-history"></i> Performance History</h6>
        </div>
        <div class="card-body">
            <canvas id="historyChart"></canvas>
        </div>
    </div>

    <!-- Recommendations -->
    <div class="card">
        <div class="card-header bg-warning">
            <h5><i class="fas fa-lightbulb"></i> Performance Recommendations</h5>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-4">
                    <h6>✅ Strengths</h6>
                    <ul>
                        <li>High detection rate (99.8%)</li>
                        <li>Low false positive rate (0.5%)</li>
                        <li>Fast scanning speed</li>
                        <li>Competitive with top AVs</li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h6>🎯 To Reach 99.9%+</h6>
                    <ul>
                        <li>Add more training data</li>
                        <li>Include recent malware samples</li>
                        <li>Add more features (opcodes, API calls)</li>
                        <li>Hyperparameter optimization</li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h6>🔧 Further Improvements</h6>
                    <ul>
                        <li>Online learning for new threats</li>
                        <li>Behavioral analysis integration</li>
                        <li>Cloud-assisted detection</li>
                        <li>Multi-model voting system</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Footer -->
<div class="text-center mt-5 mb-3">
    <p>&copy; 2025 NeuroShield - Malware Detection with Machine Learning.<br>Developed by F.J.G. All Rights Reserved.</p>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // Dark mode
    const toggleDarkModeBtn = document.getElementById('toggleDarkMode');
    const body = document.body;

    function toggleDarkMode() {
        body.classList.toggle('dark-mode');
        localStorage.setItem('theme', body.classList.contains('dark-mode') ? 'dark' : 'light');
        toggleDarkModeBtn.innerHTML = body.classList.contains('dark-mode') ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
    }

    if (localStorage.getItem('theme') === 'dark') {
        body.classList.add('dark-mode');
        toggleDarkModeBtn.innerHTML = '<i class="fas fa-sun"></i>';
    }

    toggleDarkModeBtn.addEventListener('click', toggleDarkMode);

    // Detection Rate Chart
    const detectionCtx = document.getElementById('detectionChart').getContext('2d');
    new Chart(detectionCtx, {
        type: 'bar',
        data: {
            labels: ['NeuroShield', 'Kaspersky', 'Defender', 'Norton', 'Bitdefender'],
            datasets: [{
                label: 'Detection Rate (%)',
                data: [99.8, 99.9, 99.8, 99.7, 99.8],
                backgroundColor: ['#1d8cf8', '#cccccc', '#cccccc', '#cccccc', '#cccccc']
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: false,
                    min: 99,
                    max: 100
                }
            }
        }
    });

    // FP Rate Chart
    const fpCtx = document.getElementById('fpChart').getContext('2d');
    new Chart(fpCtx, {
        type: 'bar',
        data: {
            labels: ['NeuroShield', 'Kaspersky', 'Defender', 'Norton', 'Bitdefender'],
            datasets: [{
                label: 'False Positive Rate (%)',
                data: [0.5, 0.1, 0.2, 0.2, 0.1],
                backgroundColor: ['#1d8cf8', '#cccccc', '#cccccc', '#cccccc', '#cccccc']
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: true,
                    max: 1
                }
            }
        }
    });

    // Performance History Chart
    const historyCtx = document.getElementById('historyChart').getContext('2d');
    new Chart(historyCtx, {
        type: 'line',
        data: {
            labels: ['V1', 'V2', 'V3 (Current)'],
            datasets: [
                {
                    label: 'Detection Rate (%)',
                    data: [92.5, 97.3, 99.8],
                    borderColor: '#2dce89',
                    fill: false
                },
                {
                    label: 'False Positive Rate (%)',
                    data: [8.2, 3.1, 0.5],
                    borderColor: '#f5365c',
                    fill: false
                }
            ]
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: true,
                    max: 100
                }
            }
        }
    });
</script>
</body>
</html>
